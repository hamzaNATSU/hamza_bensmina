{% extends "base.html" %}

{% block content %}
<main class="main">
    <div class="sign-in-form">
        <div class="sign-in-form-top">
            <h2>Change Password</h2>
        </div>
        <div class="signin row m-3">
            <form method="post" class="form col-sm-4">
                {% csrf_token %}
                {{form.old_password.label}}
                <div class="form-group pass_show"> 
                    {{form.old_password}}
                </div> 
                {{form.new_password1.label}}
                <div class="form-group pass_show"> 
                    {{form.new_password1}}
                </div> 
                {{form.new_password2.label}}
                <div class="form-group pass_show"> 
                    {{form.new_password2}}                </div> 
                <button class="login-form__button button mt" type="submit">
                    <span class="button__text">Edit password</span>
                </button>

            </form> 
            {% if messages %}
                <div class="error_message"> your new password didn't match </div>
            {% endif %} 
            {% if form.new_password2.errors %}
                <div class="error_message"> your new password and comfirm password isnt the same </div>
            {% endif %}
            {% if form.old_password.errors %}
                <div class="error_message"> your old password isnt correct </div>
            {% endif %}
            
        </div>
    </div>
</main>
<script>
    document.getElementById('id_old_password').classList.add("text-input");
    document.getElementById('id_old_password').setAttribute("placeholder","enter your current password");
    document.getElementById('id_new_password1').classList.add("text-input");
    document.getElementById('id_new_password1').setAttribute("placeholder","enter your new password");
    document.getElementById('id_new_password2').classList.add("text-input");
    document.getElementById('id_new_password2').setAttribute("placeholder","confirm your new password");

</script>
{% endblock content %}